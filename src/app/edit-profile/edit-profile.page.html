<ion-header>
	<ion-toolbar>
		<div flexHeader>
			<div backHead>
				<ion-back-button defaultHref="/tabs/settings" [text]="" icon="chevron-back-outline"></ion-back-button>
			</div>
			<ion-title class="ion-text-center">Edit Profile</ion-title>
		</div>
	</ion-toolbar>
</ion-header>

<ion-content>
	<div padding>
		<div userImg><img src="{{ userImage }}" alt="">
			<ion-button (click)="selectImageSource()">
				<ion-icon name="camera"></ion-icon>
			</ion-button>
		</div>

		<div editprofileform>
			<form [formGroup]="updateProfileForm" (ngSubmit)="onSubmit()" novalidate>

				<input type="file" accept="image/*" id="fileupload" (change)="uploadFile($event)" name="fileupload"
					style="display:none" />
				<ion-row>
					<ion-col size="12">
						<label>First Name</label>
						<ion-input type="text" formControlName="firstName" placeholder="Name" value=""></ion-input>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.firstName.errors?.required">
							<ion-label no-margin stacked>First Name is required.</ion-label>
						</ion-item>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.firstName.errors?.minlength">
							<ion-label no-margin stacked>Min 3 chars long.</ion-label>
						</ion-item>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.firstName.errors?.pattern">
							<ion-label no-margin stacked>Only alphabets allowed.</ion-label>
						</ion-item>
					</ion-col>
					<ion-col size="12">
						<label>Last Name</label>
						<ion-input type="text" formControlName="lastName" placeholder="Name" value=""></ion-input>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.lastName.errors?.required">
							<ion-label no-margin stacked>Last Name is required.</ion-label>
						</ion-item>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.lastName.errors?.minlength">
							<ion-label no-margin stacked>Min 3 chars long.</ion-label>
						</ion-item>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.lastName.errors?.pattern">
							<ion-label no-margin stacked>Only alphabets allowed.</ion-label>
						</ion-item>
					</ion-col>
					<ion-col size="12">
						<label>Email Address </label>
						<ion-input type="email" formControlName="email" placeholder="Email" value=""></ion-input>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.email.errors?.required">
							<ion-label no-margin stacked>Email is required.</ion-label>
						</ion-item>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.email.errors?.pattern">
							<ion-label no-margin stacked>Enter valid email.</ion-label>
						</ion-item>
					</ion-col>
					<ion-col size="12">
						<label>DOB</label>
						<div formdate>
							<ion-datetime displayFormat="MM-DD" formControlName="dob" value=""></ion-datetime>
							<ion-icon name="calendar"></ion-icon>
						</div>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.dob.errors?.required">
							<ion-label no-margin stacked>DOB is required.</ion-label>
						</ion-item>
					</ion-col>
					<ion-col size="12">
						<label>Address</label>
						<ion-textarea rows="3" type="text" formControlName="address" placeholder="Address" value="">
						</ion-textarea>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.address.errors?.required">
							<ion-label no-margin stacked>Address is required.</ion-label>
						</ion-item>
					</ion-col>
					<ion-col size="12">
						<label>Contact Number</label>
						<ion-input type="text" formControlName="phoneNumber" placeholder="Contact Number" value="">
						</ion-input>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.phoneNumber.errors?.required">
							<ion-label no-margin stacked>Phone number is required.</ion-label>
						</ion-item>
						<ion-item class="form-text error" *ngIf="submitAttempt && errorCtr.phoneNumber.errors?.pattern">
							<ion-label no-margin stacked>Only number values allowed.</ion-label>
						</ion-item>
					</ion-col>
					<ion-col size="12">
						<label>Chronic Disease* </label>
						<ion-select interface="action-sheet" formControlName="chronicDisease" placeholder="Select One"
							value="Diabetes">
							<ion-select-option value="1">Diabetes</ion-select-option>
							<ion-select-option value="2">Coeliac</ion-select-option>
							<ion-select-option value="3">Coronary Heart Disease</ion-select-option>
							<ion-select-option value="5">IBS & IBD</ion-select-option>
							<ion-select-option value="6">Other</ion-select-option>
						</ion-select>
						<ion-item class='form-text error' *ngIf="submitAttempt && errorCtr.chronicDisease.errors?.required">
							<ion-label no-margin stacked>Please select chronic disease.</ion-label>
						</ion-item>
					</ion-col>
				</ion-row>
				<ion-row>
					<ion-col>
						<ion-button type="submit" btnsave>Save Changes</ion-button>
					</ion-col>
				</ion-row>
			</form>
		</div>

	</div>
</ion-content>